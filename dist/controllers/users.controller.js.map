{"version":3,"sources":["../../src/controllers/users.controller.ts"],"sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport { Container } from 'typedi';\nimport { CreateUserDto } from '@dtos/users.dto';\nimport { User } from '@interfaces/users.interface';\nimport { UserService } from '@services/users.service';\n\nexport class UserController {\n  public user = Container.get(UserService);\n\n  public getUsers = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const findAllUsersData: User[] = await this.user.findAllUser();\n\n      res.status(200).json({\n        data: findAllUsersData,\n        message: 'findAll',\n      });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public getUserById = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const userId = Number(req.params.id);\n      const findOneUserData: User = await this.user.findUserById(userId);\n\n      res.status(200).json({ data: findOneUserData, message: 'findOne' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public getUserByEmail = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { email } = req.body;\n\n      const findOneUserData: User = await this.user.findUserByEmail(email);\n\n      res.status(200).json({ data: findOneUserData, message: 'findOne' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public createUser = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const userData: CreateUserDto = req.body;\n      const createUserData: User = await this.user.createUser(userData);\n\n      res.status(201).json({ data: createUserData, message: 'created' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public updateUser = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const userId = Number(req.params.id);\n      const userData: CreateUserDto = req.body;\n      const updateUserData: User = await this.user.updateUser(userId, userData);\n\n      res.status(200).json({\n        data: updateUserData,\n        message: 'updated',\n      });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public deleteUser = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const userId = Number(req.params.id);\n      const deleteUserData: User = await this.user.deleteUser(userId);\n\n      res.status(200).json({ data: deleteUserData, message: 'deleted' });\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n"],"names":["UserController","user","Container","get","UserService","getUsers","req","res","next","findAllUsersData","findAllUser","status","json","data","message","error","getUserById","userId","Number","params","id","findOneUserData","findUserById","getUserByEmail","email","body","findUserByEmail","createUser","userData","createUserData","updateUser","updateUserData","deleteUser","deleteUserData"],"mappings":";;;;+BAMaA;;;eAAAA;;;wBALa;8BAGE;;;;;;;;;;;;;;AAErB,IAAA,AAAMA,iBAAN,MAAMA;;QACX,uBAAOC,QAAOC,iBAAS,CAACC,GAAG,CAACC,yBAAW;QAEvC,uBAAOC,YAAW,OAAOC,KAAcC,KAAeC;YACpD,IAAI;gBACF,MAAMC,mBAA2B,MAAM,IAAI,CAACR,IAAI,CAACS,WAAW;gBAE5DH,IAAII,MAAM,CAAC,KAAKC,IAAI,CAAC;oBACnBC,MAAMJ;oBACNK,SAAS;gBACX;YACF,EAAE,OAAOC,OAAO;gBACdP,KAAKO;YACP;QACF;QAEA,uBAAOC,eAAc,OAAOV,KAAcC,KAAeC;YACvD,IAAI;gBACF,MAAMS,SAASC,OAAOZ,IAAIa,MAAM,CAACC,EAAE;gBACnC,MAAMC,kBAAwB,MAAM,IAAI,CAACpB,IAAI,CAACqB,YAAY,CAACL;gBAE3DV,IAAII,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMQ;oBAAiBP,SAAS;gBAAU;YACnE,EAAE,OAAOC,OAAO;gBACdP,KAAKO;YACP;QACF;QAEA,uBAAOQ,kBAAiB,OAAOjB,KAAcC,KAAeC;YAC1D,IAAI;gBACF,MAAM,EAAEgB,KAAK,EAAE,GAAGlB,IAAImB,IAAI;gBAE1B,MAAMJ,kBAAwB,MAAM,IAAI,CAACpB,IAAI,CAACyB,eAAe,CAACF;gBAE9DjB,IAAII,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMQ;oBAAiBP,SAAS;gBAAU;YACnE,EAAE,OAAOC,OAAO;gBACdP,KAAKO;YACP;QACF;QAEA,uBAAOY,cAAa,OAAOrB,KAAcC,KAAeC;YACtD,IAAI;gBACF,MAAMoB,WAA0BtB,IAAImB,IAAI;gBACxC,MAAMI,iBAAuB,MAAM,IAAI,CAAC5B,IAAI,CAAC0B,UAAU,CAACC;gBAExDrB,IAAII,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMgB;oBAAgBf,SAAS;gBAAU;YAClE,EAAE,OAAOC,OAAO;gBACdP,KAAKO;YACP;QACF;QAEA,uBAAOe,cAAa,OAAOxB,KAAcC,KAAeC;YACtD,IAAI;gBACF,MAAMS,SAASC,OAAOZ,IAAIa,MAAM,CAACC,EAAE;gBACnC,MAAMQ,WAA0BtB,IAAImB,IAAI;gBACxC,MAAMM,iBAAuB,MAAM,IAAI,CAAC9B,IAAI,CAAC6B,UAAU,CAACb,QAAQW;gBAEhErB,IAAII,MAAM,CAAC,KAAKC,IAAI,CAAC;oBACnBC,MAAMkB;oBACNjB,SAAS;gBACX;YACF,EAAE,OAAOC,OAAO;gBACdP,KAAKO;YACP;QACF;QAEA,uBAAOiB,cAAa,OAAO1B,KAAcC,KAAeC;YACtD,IAAI;gBACF,MAAMS,SAASC,OAAOZ,IAAIa,MAAM,CAACC,EAAE;gBACnC,MAAMa,iBAAuB,MAAM,IAAI,CAAChC,IAAI,CAAC+B,UAAU,CAACf;gBAExDV,IAAII,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMoB;oBAAgBnB,SAAS;gBAAU;YAClE,EAAE,OAAOC,OAAO;gBACdP,KAAKO;YACP;QACF;;AACF"}