{"version":3,"sources":["../../../src/database/migrations/20240221112119-create_chats_table.js"],"sourcesContent":["'use strict';\n\n/** @type {import('sequelize-cli').Migration} */\nmodule.exports = {\n  async up(queryInterface, Sequelize) {\n    await queryInterface.createTable('chats', {\n      id: {\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true,\n        type: Sequelize.INTEGER,\n      },\n      name: {\n        type: Sequelize.STRING,\n        allowNull: false,\n      },\n      is_group: {\n        type: Sequelize.BOOLEAN,\n        allowNull: false,\n      },\n      last_message: {\n        type: Sequelize.STRING,\n        allowNull: true,\n      },\n      admin_id: {\n        type: Sequelize.INTEGER,\n        references: { model: 'users', key: 'id' },\n      },\n      receiver_id: {\n        type: Sequelize.INTEGER,\n        references: { model: 'users', key: 'id' },\n      },\n      inbox_hash: {\n        type: Sequelize.STRING,\n        allowNull: false,\n      },\n      created_at: {\n        type: Sequelize.DATE,\n        allowNull: false,\n      },\n      updated_at: {\n        type: Sequelize.DATE,\n        allowNull: true,\n      },\n    });\n  },\n\n  async down(queryInterface, Sequelize) {\n    await queryInterface.dropTable('chats');\n  },\n};\n"],"names":["module","exports","up","queryInterface","Sequelize","createTable","id","allowNull","autoIncrement","primaryKey","type","INTEGER","name","STRING","is_group","BOOLEAN","last_message","admin_id","references","model","key","receiver_id","inbox_hash","created_at","DATE","updated_at","down","dropTable"],"mappings":"AAAA;AAGAA,OAAOC,OAAO,GAAG;IACf,MAAMC,IAAGC,cAAc,EAAEC,SAAS;QAChC,MAAMD,eAAeE,WAAW,CAAC,SAAS;YACxCC,IAAI;gBACFC,WAAW;gBACXC,eAAe;gBACfC,YAAY;gBACZC,MAAMN,UAAUO,OAAO;YACzB;YACAC,MAAM;gBACJF,MAAMN,UAAUS,MAAM;gBACtBN,WAAW;YACb;YACAO,UAAU;gBACRJ,MAAMN,UAAUW,OAAO;gBACvBR,WAAW;YACb;YACAS,cAAc;gBACZN,MAAMN,UAAUS,MAAM;gBACtBN,WAAW;YACb;YACAU,UAAU;gBACRP,MAAMN,UAAUO,OAAO;gBACvBO,YAAY;oBAAEC,OAAO;oBAASC,KAAK;gBAAK;YAC1C;YACAC,aAAa;gBACXX,MAAMN,UAAUO,OAAO;gBACvBO,YAAY;oBAAEC,OAAO;oBAASC,KAAK;gBAAK;YAC1C;YACAE,YAAY;gBACVZ,MAAMN,UAAUS,MAAM;gBACtBN,WAAW;YACb;YACAgB,YAAY;gBACVb,MAAMN,UAAUoB,IAAI;gBACpBjB,WAAW;YACb;YACAkB,YAAY;gBACVf,MAAMN,UAAUoB,IAAI;gBACpBjB,WAAW;YACb;QACF;IACF;IAEA,MAAMmB,MAAKvB,cAAc,EAAEC,SAAS;QAClC,MAAMD,eAAewB,SAAS,CAAC;IACjC;AACF"}